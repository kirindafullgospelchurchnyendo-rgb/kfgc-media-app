<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Events-Dashboard – KFGC Media App</title>
<style>
/* ===============================
   ADMIN DASHBOARD STYLES
=============================== */
:root{
  --navy:#0A1A44;
  --gold:#d9a441;
  --light:#f4f6f9;
  --radius:12px;
  --shadow:0 10px 25px rgba(0,0,0,.12);
}
.back-button {
  position: right;
  left: 14px;
  color: #d9a441;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:Segoe UI,Arial,sans-serif;
  background:var(--light);
  color:#222;
  line-height:1.6;
  padding:0;
}

/* Header */
.header{
  background:var(--navy);
  color:#fff;
  padding:1rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header h1{font-size:1.5rem;
}
.header button{
  background:var(--gold);
  color:var(--navy);
  border:none;
  padding:.5rem 1rem;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
}

/* Container */
.container{
  max-width:1100px;
  margin:2rem auto;
  padding:0 1rem;
}

/* Admin Form */
.admin-form{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:1rem;
  margin-bottom:2rem;
}
.admin-form input, .admin-form select, .admin-form textarea{
  padding:.6rem;
  border-radius:8px;
  border:1px solid #ccc;
  width:100%;
}
.admin-form textarea{resize:none; grid-column:1/-1; height:80px;}
.admin-form button{
  background:var(--navy);
  color:#fff;
  border:none;
  padding:.6rem;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
  grid-column:1/-1;
}

/* Event List */
.event-list{
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:1rem;
}
.event-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid #ddd;
  padding:.5rem 0;
}
.event-item:last-child{border-bottom:none;}
.event-item span{
  display:flex; gap:.5rem; align-items:center;
}
.event-item button{
  background:var(--gold);
  border:none;
  padding:.3rem .6rem;
  border-radius:6px;
  cursor:pointer;
  font-weight:600;
}
.event-item button.delete{background:#e74c3c; color:#fff;}
.event-item button.edit{background:#2ecc71; color:#fff;}

/* Responsive */
@media(max-width:768px){
  .admin-form{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<header class="header">
  
  <h1>Events Update</h1>
   <a href="javascript:history.back()" class="back-button">← Back</a>
 
  </header>

<div class="container">
  <h2>Manage Events</h2>
  <div class="admin-form">
    <input id="title" placeholder="Event Title">
    <input id="date" type="date">
    <select id="category">
      <option value="Prayer">Prayer</option>
      <option value="Worship">Worship</option>
      <option value="Youth">Youth</option>
    </select>
    <textarea id="description" placeholder="Event Description"></textarea>
    <input id="image" placeholder="Image URL (optional)">
    <button onclick="saveEvent()">Add Event</button>
  </div>

  <div class="event-list" id="eventList"></div>
</div>

<script>
/* ===============================
   ADMIN LOGIC (NO LOGIN VERIFICATION)
=============================== */

let editingId = null;

// Load events
function loadEvents(){
  const events = JSON.parse(localStorage.getItem("kfgcEvents")) || [];
  const list = document.getElementById("eventList");
  list.innerHTML="";
  events.forEach(e=>{
    const div = document.createElement("div");
    div.className="event-item";
    div.innerHTML=`
      <span>
        ${e.title} (${e.date}) [${e.category}]
      </span>
      <span>
        <button class="edit" onclick="editEvent(${e.id})">Edit</button>
        <button class="delete" onclick="deleteEvent(${e.id})">Delete</button>
      </span>
    `;
    list.appendChild(div);
  });
}

// Save / Add event
function saveEvent(){
  const title = document.getElementById("title").value.trim();
  const date = document.getElementById("date").value;
  const category = document.getElementById("category").value;
  const description = document.getElementById("description").value;
  const image = document.getElementById("image").value;

  if(!title || !date) return alert("Title & Date required");

  let events = JSON.parse(localStorage.getItem("kfgcEvents")) || [];

  if(editingId){ // Editing
    events = events.map(e=>{
      if(e.id===editingId){
        return {id:e.id,title,date,category,description,image};
      }
      return e;
    });
    editingId=null;
  } else { // New event
    events.push({
      id: Date.now(),
      title,
      date,
      category,
      description,
      image
    });
  }

  localStorage.setItem("kfgcEvents", JSON.stringify(events));
  clearForm();
  loadEvents();
  alert("Events saved! Members page will update automatically.");
}

// Edit event
function editEvent(id){
  const events = JSON.parse(localStorage.getItem("kfgcEvents")) || [];
  const e = events.find(ev=>ev.id===id);
  if(!e) return;

  document.getElementById("title").value=e.title;
  document.getElementById("date").value=e.date;
  document.getElementById("category").value=e.category;
  document.getElementById("description").value=e.description;
  document.getElementById("image").value=e.image || "";
  editingId = id;
}

// Delete event
function deleteEvent(id){
  if(!confirm("Delete this event?")) return;
  let events = JSON.parse(localStorage.getItem("kfgcEvents")) || [];
  events = events.filter(e=>e.id!==id);
  localStorage.setItem("kfgcEvents", JSON.stringify(events));
  loadEvents();
}

// Clear form
function clearForm(){
  document.getElementById("title").value="";
  document.getElementById("date").value="";
  document.getElementById("category").value="Prayer";
  document.getElementById("description").value="";
  document.getElementById("image").value="";
}



// Initialize
loadEvents();
</script>

</body>
</html>